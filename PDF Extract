import cv2
import numpy as np

# Read the image
img = cv2.imread('path_to_image.jpg')

# Convert the image to the LAB color space
lab = cv2.cvtColor(img, cv2.COLOR_BGR2LAB)

# Split the LAB image to different channels
l, a, b = cv2.split(lab)

# Apply CLAHE (Contrast Limited Adaptive Histogram Equalization) to the L-channel
clahe = cv2.createCLAHE(clipLimit=3.0, tileGridSize=(8,8))
l_clahe = clahe.apply(l)

# Merge the CLAHE enhanced L-channel with the a and b channel
lab_clahe = cv2.merge((l_clahe,a,b))

# Convert LAB image back to BGR color space
img_clahe = cv2.cvtColor(lab_clahe, cv2.COLOR_LAB2BGR)

# Save or display the enhanced image
cv2.imwrite('enhanced_image.jpg', img_clahe)
cv2.imshow('Enhanced Image', img_clahe)
cv2.waitKey(0)
cv2.destroyAllWindows()
